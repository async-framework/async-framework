name: "Deno CodeQL Config"

paths:
  - 'packages/**'

paths-ignore:
  - 'packages/**/test/**'
  - 'packages/**/tests/**'
  - 'packages/examples/**'
  - '**/node_modules/**'
  - '**/*.test.ts'
  - '**/*.test.js'
  - '**/*.spec.ts'
  - '**/*.spec.js'
  - 'dist/**'
  - 'build/**'
  - '.vscode/**'
  - 'vendor/**'
  - 'fixtures/**'

queries:
  - uses: security-extended
  - uses: security-and-quality

query-filters:
  - exclude:
      problem.severity:
        - warning
        - recommendation
  - include:
      tags:
        - security
        - correctness

output:
  sarif:
    category: "/language:javascript-typescript"
    level: "error"
    add-snippets: true

database:
  analyze-builtin-pretrained-model: true

trap:
  typescript:
    enabled: true
    extractor:
      typescript:
        experimental:
          type-tracking: true
