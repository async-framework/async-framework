name: "Deno CodeQL Config"

paths:
  - 'packages/**'

paths-ignore:
  - 'packages/**/test/**'
  - 'packages/**/tests/**'
  - 'packages/examples/**'
  - '**/node_modules/**'
  - '**/*.test.ts'
  - '**/*.test.js'
  - '**/*.spec.ts'
  - '**/*.spec.js'
  - 'dist/**'
  - 'build/**'
  - '.vscode/**'
  - 'vendor/**'
  - 'fixtures/**'

queries:
  - uses: security-extended
  - uses: security-and-quality
  - uses: codeql/javascript-queries/Security
  - uses: codeql/typescript-queries/Security

query-filters:
  - exclude:
      problem.severity:
        - warning
        - recommendation
  - include:
      tags:
        - security
        - correctness

database:
  analyze-builtin-pretrained-model: true
  max-disk: 1024
  max-ram: 4096

extraction:
  javascript:
    index-typescript: true
    typescript:
      version: 5.x
      features:
        - decorators
        - modules
      dependencies:
        typescript: '*'
    source-type: module
    file-types:
      - .js
      - .ts
      - .mts
      - .cts

output:
  sarif:
    category: "/language:javascript-typescript"
    level: "error"
    add-snippets: true
